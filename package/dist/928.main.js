!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.planettech=e():t.planettech=e()}(this,(()=>(()=>{"use strict";var t,e,o,r,a={976:t=>{t.exports=import("https://unpkg.com/three@0.159/build/three.module.js")},928:(t,e,o)=>{o.a(t,(async(t,e)=>{try{var r=o(976),a=t([r]);function n(t,e,o){let a=(new r.Vector3).copy(e),n=new r.Vector3,i=new r.Vector3;new r.Vector3;const s=new r.Vector3,l=new r.Vector3;let c=t;c.worldToLocal(n.copy(a));let p=c.geometry.attributes.position;for(let t=0;t<p.count;t++)i.fromBufferAttribute(p,t),c.localToWorld(i.clone()),s.copy(i),l.copy(i),i.sub(n),i.normalize().multiplyScalar(o).add(n),p.setXYZ(t,i.x,i.y,i.z),s.x+=.1,s.sub(n),s.normalize().multiplyScalar(o).add(n),l.y+=.1,l.sub(n),l.normalize().multiplyScalar(o).add(n),s.sub(i).cross(l.sub(i)).normalize(),c.geometry.attributes.normal.setXYZ(t,s.x,s.y,s.z)}function i(t,e){let o=null,a=t.parentPositionVector[t.parentPositionVector.length-1];const i=new r.PlaneGeometry(a,a),s=new r.MeshBasicMaterial,l=new r.Mesh(i,s);l.position.set(...t.parentPositionVector),"right"==t.side?l.rotation.y=Math.PI/2:"left"==t.side?l.rotation.y=-Math.PI/2:"top"==t.side?l.rotation.x=-Math.PI/2:"bottom"==t.side?l.rotation.x=Math.PI/2:"front"==t.side||"back"==t.side&&(l.rotation.y=Math.PI);var c=new Float32Array(t.positionBuffer),p=new Float32Array(t.normalBuffer);let u=JSON.parse("["+t.positionStr+"]"),f=JSON.parse("["+t.normalStr+"]"),m=Float32Array.from(u),y=Float32Array.from(f),d=new r.BufferGeometry;d.setAttribute("position",new r.Float32BufferAttribute(m,3)),d.setAttribute("normal",new r.Float32BufferAttribute(y,3));let b=new r.Mesh(d,new r.Material);b.position.set(...t.positionVector),l.add(b),n(b,new r.Vector3(...t.center),t.radius),c.set(d.attributes.position.array),p.set(d.attributes.normal.array),o="complete",e(null,"complete")}r=(a.then?(await a)():a)[0],self.onmessage=function(t){i(t.data,(function(t,e){const o={err:t,payload:e};self.postMessage(o)}))},e()}catch(s){e(s)}}))}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={exports:{}};return a[t](o,o.exports,i),o.exports}return t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},i.a=(a,n,i)=>{var s;i&&((s=[]).d=-1);var l,c,p,u=new Set,f=a.exports,m=new Promise(((t,e)=>{p=e,c=t}));m[e]=f,m[t]=t=>(s&&t(s),u.forEach(t),m.catch((t=>{}))),a.exports=m,n((a=>{var n;l=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[t])return a;if(a.then){var n=[];n.d=0,a.then((t=>{i[e]=t,r(n)}),(t=>{i[o]=t,r(n)}));var i={};return i[t]=t=>t(n),i}}var s={};return s[t]=t=>{},s[e]=a,s})))(a);var i=()=>l.map((t=>{if(t[o])throw t[o];return t[e]})),c=new Promise((e=>{(n=()=>e(i)).r=0;var o=t=>t!==s&&!u.has(t)&&(u.add(t),t&&!t.d&&(n.r++,t.push(n)));l.map((e=>e[t](o)))}));return n.r?c:i()}),(t=>(t?p(m[o]=t):c(f),r(s)))),s&&s.d<0&&(s.d=0)},i(928)})()));